{"ast":null,"code":"import{login}from\"../../types\";export var signInAction=function signInAction(token){return{type:login,payload:token};};var URL=\"https://motion.propulsion-home.ch/backend/api/auth/token/\";export var signInFunction=function signInFunction(data){return function(dispatch){var headers=new Headers({'Content-Type':'application/json'});var config={method:'POST',body:JSON.stringify(data),headers:headers};fetch(URL,config).then(function(res){return res.json();}).then(function(data){var access=data.access;dispatch(signInAction(access));localStorage.setItem('token',access);});};};","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/store/actions/signInAction/index.js"],"names":["login","signInAction","token","type","payload","URL","signInFunction","data","dispatch","headers","Headers","config","method","body","JSON","stringify","fetch","then","res","json","access","localStorage","setItem"],"mappings":"AAAA,OAAQA,KAAR,KAAoB,aAApB,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,QACxB,CACAC,IAAI,CAAEH,KADN,CAEAI,OAAO,CAAEF,KAFT,CADwB,EAArB,CAMP,GAAMG,CAAAA,GAAG,4DAAT,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,QAAU,UAACC,QAAD,CAAc,CAClD,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,OAAJ,CAAY,CACxB,eAAgB,kBADQ,CAAZ,CAAhB,CAIA,GAAMC,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,MADG,CAEXC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAFK,CAGXE,OAAO,CAAPA,OAHW,CAAf,CAMIO,KAAK,CAACX,GAAD,CAAMM,MAAN,CAAL,CACCM,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAV,IAAI,CAAI,IACHa,CAAAA,MADG,CACOb,IADP,CACHa,MADG,CAEVZ,QAAQ,CAACP,YAAY,CAACmB,MAAD,CAAb,CAAR,CACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,MAA9B,EACH,CAND,EAOP,CAlB6B,EAAvB","sourcesContent":["import {login} from \"../../types\";\n\nexport const signInAction = (token) => (\n    {\n    type: login,\n    payload: token,\n});\n\nconst URL = `https://motion.propulsion-home.ch/backend/api/auth/token/`;\n\nexport const signInFunction = (data) => (dispatch) => {\n    const headers = new Headers({\n        'Content-Type': 'application/json'\n    });\n\n    const config = {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers\n    };\n\n        fetch(URL, config)\n        .then(res => res.json())\n        .then(data => {\n            const {access} = data;\n            dispatch(signInAction(access));\n            localStorage.setItem('token', access);\n        });\n};"]},"metadata":{},"sourceType":"module"}