{"ast":null,"code":"import{getfeed}from\"../../types\";export var getFilteredPostsAction=function getFilteredPostsAction(content){return{type:getfeed,payload:content};};var URL=\"\";var getFilteredPostsFunction=function getFilteredPostsFunction(props){return function(dispatch){if(props.FeedReducer.currentFeedState===\"POST_LIKE\"){URL=\"https://tracey.propulsion-learn.ch/backend/api/social/posts/likes/\";}else if(props.FeedReducer.currentFeedState===\"POST_FRIEND\"){URL=\"https://tracey.propulsion-learn.ch/backend/api/social/posts/friends/\";}else if(props.FeedReducer.currentFeedState===\"POST_FOLLOW\"){URL=\"https://tracey.propulsion-learn.ch/backend/api/social/posts/following/\";}var token=props.SignInReducer.token;var headers=new Headers({'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)});var config={method:'GET',headers:headers};fetch(URL,config).then(function(res){return res.json();}).then(function(data){var postsList=data;dispatch(getFilteredPostsAction(postsList));});};};export default getFilteredPostsFunction;","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/store/actions/getFilteredPostsAction/index.js"],"names":["getfeed","getFilteredPostsAction","content","type","payload","URL","getFilteredPostsFunction","props","dispatch","FeedReducer","currentFeedState","token","SignInReducer","headers","Headers","config","method","fetch","then","res","json","data","postsList"],"mappings":"AAAA,OAAQA,OAAR,KAAsB,aAAtB,CAEA,MAAO,IAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAAAC,OAAO,QAAK,CAC9CC,IAAI,CAAEH,OADwC,CAE9CI,OAAO,CAAEF,OAFqC,CAAL,EAAtC,CAKP,GAAIG,CAAAA,GAAG,CAAG,EAAV,CAEA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,KAAD,QAAW,UAACC,QAAD,CAAc,CAEtD,GAAID,KAAK,CAACE,WAAN,CAAkBC,gBAAlB,GAAuC,WAA3C,CAAwD,CACpDL,GAAG,qEAAH,CACH,CAFD,IAEO,IAAIE,KAAK,CAACE,WAAN,CAAkBC,gBAAlB,GAAuC,aAA3C,CAA0D,CAC7DL,GAAG,uEAAH,CACH,CAFM,IAEA,IAAIE,KAAK,CAACE,WAAN,CAAkBC,gBAAlB,GAAuC,aAA3C,CAA0D,CAC7DL,GAAG,yEAAH,CACH,CAED,GAAMM,CAAAA,KAAK,CAAGJ,KAAK,CAACK,aAAN,CAAoBD,KAAlC,CACA,GAAME,CAAAA,OAAO,CAAG,GAAIC,CAAAA,OAAJ,CAAY,CACxB,eAAgB,kBADQ,CAExB,iCAA2BH,KAA3B,CAFwB,CAAZ,CAAhB,CAKA,GAAMI,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,KADG,CAEXH,OAAO,CAAPA,OAFW,CAAf,CAKAI,KAAK,CAACZ,GAAD,CAAMU,MAAN,CAAL,CACCG,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAI,CACV,GAAMC,CAAAA,SAAS,CAAGD,IAAlB,CACAb,QAAQ,CAACP,sBAAsB,CAACqB,SAAD,CAAvB,CAAR,CACH,CALD,EAMH,CA3BgC,EAAjC,CA4BA,cAAehB,CAAAA,wBAAf","sourcesContent":["import {getfeed} from \"../../types\";\n\nexport const getFilteredPostsAction = content => ({\n    type: getfeed,\n    payload: content\n});\n\nlet URL = \"\"\n\nconst getFilteredPostsFunction = (props) => (dispatch) => {\n\n    if (props.FeedReducer.currentFeedState === \"POST_LIKE\") {\n        URL = `https://tracey.propulsion-learn.ch/backend/api/social/posts/likes/`;\n    } else if (props.FeedReducer.currentFeedState === \"POST_FRIEND\") {\n        URL = `https://tracey.propulsion-learn.ch/backend/api/social/posts/friends/`;\n    } else if (props.FeedReducer.currentFeedState === \"POST_FOLLOW\") {\n        URL = `https://tracey.propulsion-learn.ch/backend/api/social/posts/following/`;\n    }\n\n    const token = props.SignInReducer.token\n    const headers = new Headers({\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n    });\n\n    const config = {\n        method: 'GET',\n        headers\n    };\n\n    fetch(URL, config)\n    .then(res => res.json())\n    .then(data => {\n        const postsList = data;\n        dispatch(getFilteredPostsAction(postsList));\n    })\n};\nexport default getFilteredPostsFunction;"]},"metadata":{},"sourceType":"module"}