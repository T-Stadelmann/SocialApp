{"ast":null,"code":"import _objectSpread from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./index.css';import{connect}from'react-redux';import{Link}from'react-router-dom';import TimeAgo from'react-timeago';import englishStrings from'react-timeago/lib/language-strings/en';import buildFormatter from'react-timeago/lib/formatters/buildFormatter';import FeedLikeButton from'../FeedLikeButton';var formatter=buildFormatter(englishStrings);function FeedFeedFollow(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),followed_posts=_useState2[0],setFollowedPosts=_useState2[1];var posts=props.PostsReducer;if(posts.postitems.length>0&&followed_posts===undefined){var currentFollowedPosts=posts.postitems.filter(function(post){return post.user.logged_in_user_is_following;});setFollowedPosts(currentFollowedPosts);}var updateLikedPosts=function updateLikedPosts(post_id){var newFollowedPosts=followed_posts.filter(function(post){return post.id!==parseInt(post_id);});setFollowedPosts(newFollowedPosts);};if(followed_posts===undefined){return React.createElement(\"div\",null,\"Loading ...\");}else if(followed_posts.length===0){return React.createElement(\"div\",{className:\"posts_like_feed\"},React.createElement(\"div\",{className:\"post_like_container\"},React.createElement(\"div\",{className:\"follow_empty\"},React.createElement(\"p\",null,\"It looks like no one you're following has posted yet..\"),React.createElement(\"p\",null,\"Want to connect with more people?\"),React.createElement(\"button\",{id:\"go_get_followers\"},React.createElement(Link,{to:\"/friends\"},\"Find Friends\")))));}else{return React.createElement(\"div\",{className:\"posts_like_feed\"},React.createElement(\"div\",{className:\"post_like_container\"},followed_posts.map(function(post){return React.createElement(\"div\",{className:\"post_container\",id:post.id,key:post.id},React.createElement(\"div\",{className:\"post_header\"},post.user.avatar?React.createElement(\"img\",{src:post.user.avatar,alt:post.user.avatar}):React.createElement(\"img\",{src:require('../../assets/images/blank_avatar.png'),alt:\"avatar\"}),React.createElement(\"div\",{className:\"post_name\"},post.user.first_name,\" \",post.user.last_name,React.createElement(TimeAgo,{date:post.created,formatter:formatter}))),React.createElement(\"div\",{className:\"post_content\",onClick:function onClick(e){return props.fullPostHandler(e,post);}},post.content),React.createElement(\"div\",{className:\"post_images\",onClick:function onClick(e){return props.fullPostHandler(e,post);}},post.images[0]?React.createElement(\"img\",{src:post.images[0].image,alt:post.images[0].image}):React.createElement(\"div\",null),post.images[1]?React.createElement(\"img\",{src:post.images[1].image,alt:post.images[1].image}):React.createElement(\"div\",null),post.images[2]?React.createElement(\"img\",{src:post.images[2].image,alt:post.images[2].image}):React.createElement(\"div\",null),post.images[3]?React.createElement(\"img\",{src:post.images[3].image,alt:post.images[3].image}):React.createElement(\"div\",null)),React.createElement(\"div\",{className:\"post_footer\"},React.createElement(FeedLikeButton,{props:props,post:post,updateLikedPosts:updateLikedPosts})));})));}}var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state);};export default connect(mapStateToProps)(FeedFeedFollow);","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedFeedFollow/index.js"],"names":["React","useState","connect","Link","TimeAgo","englishStrings","buildFormatter","FeedLikeButton","formatter","FeedFeedFollow","props","followed_posts","setFollowedPosts","posts","PostsReducer","postitems","length","undefined","currentFollowedPosts","filter","post","user","logged_in_user_is_following","updateLikedPosts","post_id","newFollowedPosts","id","parseInt","map","avatar","require","first_name","last_name","created","e","fullPostHandler","content","images","image","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport './index.css';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport TimeAgo from 'react-timeago'\nimport englishStrings from 'react-timeago/lib/language-strings/en'\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\nimport FeedLikeButton from '../FeedLikeButton';\n \nconst formatter = buildFormatter(englishStrings)\n\nfunction FeedFeedFollow(props) {\n    const [followed_posts, setFollowedPosts] = useState();\n\n    const posts = props.PostsReducer;\n\n        if (posts.postitems.length > 0 && followed_posts === undefined) {\n            const currentFollowedPosts = posts.postitems.filter(post => post.user.logged_in_user_is_following);\n            setFollowedPosts(currentFollowedPosts);\n        \n        }\n        \n    const updateLikedPosts = (post_id) => {\n        const newFollowedPosts = followed_posts.filter(post => post.id !== parseInt(post_id));\n        setFollowedPosts(newFollowedPosts);\n    }\n\n    if(followed_posts === undefined ){\n        return (\n            <div>Loading ...</div>\n                ) \n        } else if (followed_posts.length === 0) {\n            return(\n                    <div className=\"posts_like_feed\">\n                    <div className=\"post_like_container\">\n                    <div className=\"follow_empty\">\n                        <p>It looks like no one you're following has posted yet..</p>\n                        <p>Want to connect with more people?</p>\n                        <button id=\"go_get_followers\"><Link to=\"/friends\">Find Friends</Link></button>\n                    </div>\n                    </div>\n                </div>            )\n        }\n        \n        else {\n            return (\n                <div className=\"posts_like_feed\">\n                    <div className=\"post_like_container\">\n                    {followed_posts.map(post => \n                        <div className=\"post_container\" id={post.id} key={post.id} >\n                            <div className=\"post_header\">\n                                {post.user.avatar ? <img src={post.user.avatar} alt={post.user.avatar}/> :<img src={require('../../assets/images/blank_avatar.png')} alt={\"avatar\"}/>}    \n                                <div className=\"post_name\"> \n                                    {post.user.first_name} {post.user.last_name}\n                                    <TimeAgo date={post.created} formatter={formatter} />\n                                </div>\n                            </div>\n                            <div className=\"post_content\" onClick={(e) => props.fullPostHandler(e,post)}>\n                                {post.content}\n                                </div>\n\n                                <div className=\"post_images\" onClick={(e) => props.fullPostHandler(e,post)}>\n                                    {post.images[0] ?  <img src={post.images[0].image} alt={post.images[0].image}/> : <div></div> } \n                                    {post.images[1] ?  <img src={post.images[1].image} alt={post.images[1].image}/> : <div></div> } \n                                    {post.images[2] ?  <img src={post.images[2].image} alt={post.images[2].image}/> : <div></div> } \n                                    {post.images[3] ?  <img src={post.images[3].image} alt={post.images[3].image}/> : <div></div> }             \n                            </div>\n                            <div className=\"post_footer\">\n                                <FeedLikeButton \n                                props={props}\n                                post={post}\n                                updateLikedPosts={updateLikedPosts}\n                                />\n                            </div>\n                        </div>)}\n                </div>\n                </div>\n            )}   \n    }\n\n\nconst mapStateToProps = state => {\n    return {\n        ...state,\n      };\n    };   \n\nexport default connect(mapStateToProps)(FeedFeedFollow);       \n\n"]},"metadata":{},"sourceType":"module"}