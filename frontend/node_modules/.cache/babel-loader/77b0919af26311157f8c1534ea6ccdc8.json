{"ast":null,"code":"import _objectSpread from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./index.css';import{connect}from'react-redux';import{newPostFunction}from'../../store/actions/newPostAction';function FeedNewPost(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),preview=_useState4[0],setPreview=_useState4[1];var _useState5=useState(' '),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];useEffect(function(){if(!selectedFile){setPreview(undefined);return;}var objectUrl=URL.createObjectURL(selectedFile);setPreview(objectUrl);return function(){return URL.revokeObjectURL(objectUrl);};},[selectedFile]);var onSelectFile=function onSelectFile(e){if(!e.target.files||e.target.files.length===0){setSelectedFile(undefined);return;}setSelectedFile(e.target.files[0]);};var newPostHandler=function newPostHandler(e,content){e.preventDefault();var data={content:content,image:preview,link:''};props.dispatch(newPostFunction(data,props));};return React.createElement(\"div\",{className:\"pop_up\"},React.createElement(\"div\",{className:\"pop_up_close\"},React.createElement(\"button\",{onClick:function onClick(){return props.closePopUp();}},\"X\"),React.createElement(\"div\",{className:\"pop_up_inner\"},React.createElement(\"div\",{className:\"pop_up_container\"},React.createElement(\"div\",{className:\"pop_up_left\"},React.createElement(\"img\",{src:require('../../assets/images/users/jennifer.png'),id:\"profilepic\",alt:\"profile pic\"})),React.createElement(\"div\",{className:\"pop_up_right\"},React.createElement(\"form\",{className:\"new_post_form\",onSubmit:newPostHandler},React.createElement(\"textarea\",{name:\"new_post\",type:\"text\",defaultValue:props.props.content.content,onChange:function onChange(e){setContent(e.currentTarget.value);}}),React.createElement(\"img\",{src:preview,alt:\" \",id:\"uploadimage\"})))),React.createElement(\"div\",{className:\"pop_up_footer\"},React.createElement(\"div\",{className:\"pop_up_footer_left\"},React.createElement(\"div\",{className:\"img_upload\"},React.createElement(\"label\",{htmlFor:\"uploadimg\"},React.createElement(\"img\",{alt:\" \",src:require('../../assets/images/images.png')}),\" \"),React.createElement(\"input\",{type:\"file\",id:\"uploadimg\",onChange:onSelectFile}))),React.createElement(\"div\",{className:\"pop_up_footer_right\"},React.createElement(\"img\",{src:require('../../assets/images/send_posts.png'),alt:\"send\",onClick:function onClick(e){return newPostHandler(e,content);}}))))));}var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state);};export default connect(mapStateToProps)(FeedNewPost);","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedNewPost/index.js"],"names":["React","useState","useEffect","connect","newPostFunction","FeedNewPost","props","selectedFile","setSelectedFile","preview","setPreview","content","setContent","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","onSelectFile","e","target","files","length","newPostHandler","preventDefault","data","image","link","dispatch","closePopUp","require","currentTarget","value","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport './index.css';\nimport {connect} from 'react-redux';\nimport {newPostFunction} from '../../store/actions/newPostAction';\n\nfunction FeedNewPost(props) {   \n    const [selectedFile, setSelectedFile] = useState()\n    const [preview, setPreview] = useState()\n    const [content, setContent] = useState(' '); \n\n    useEffect( () => {\n        if (!selectedFile) {\n            setPreview(undefined);\n            return\n        }\n        const objectUrl = URL.createObjectURL(selectedFile);\n        setPreview(objectUrl)\n        return () => URL.revokeObjectURL(objectUrl)\n    }   , [selectedFile])\n\n    const onSelectFile = e => {\n        if (!e.target.files || e.target.files.length === 0) {\n            setSelectedFile(undefined)\n            return\n        }\n\n     setSelectedFile(e.target.files[0]);\n    }\n\n    const newPostHandler = (e,content) => {\n        e.preventDefault();\n        const data = {\n            content,\n            image:preview,\n            link:'',\n        };\n        props.dispatch(newPostFunction(data,props));\n      }  \n      \n         return( \n            <div className=\"pop_up\">\n                <div className=\"pop_up_close\">\n                    <button onClick={() => props.closePopUp()}>X</button>  \n                    <div className=\"pop_up_inner\">\n                        <div className=\"pop_up_container\">\n                            <div className=\"pop_up_left\">          \n                                <img src={require('../../assets/images/users/jennifer.png')} id=\"profilepic\" alt=\"profile pic\" />\n                            </div>\n                            <div className=\"pop_up_right\">\n                                <form className=\"new_post_form\" onSubmit={newPostHandler}>\n                                    <textarea name='new_post' type='text' defaultValue={props.props.content.content} onChange={(e) => {setContent(e.currentTarget.value)}} ></textarea>\n                                    <img src={preview} alt=\" \" id=\"uploadimage\" />\n                                </form>\n                            </div>\n                        </div>\n                        <div className=\"pop_up_footer\">\n                            <div className=\"pop_up_footer_left\">\n                                <div className=\"img_upload\">  \n                                    <label htmlFor=\"uploadimg\"><img alt=\" \" src={require('../../assets/images/images.png')}/> </label> \n                                    <input type='file' id=\"uploadimg\" onChange={onSelectFile}/>\n                                </div>\n                            </div>\n                            <div className=\"pop_up_footer_right\">\n                                <img src={require('../../assets/images/send_posts.png')} alt=\"send\" onClick={(e)=>newPostHandler(e,content)} />              \n                            </div>         \n                        </div>\n                    </div>\n                </div>\n            </div>\n            )\n    }\n\nconst mapStateToProps = state => {\n    return {\n ...state,\n      };\n    };   \n\nexport default connect(mapStateToProps)(FeedNewPost);       \n"]},"metadata":{},"sourceType":"module"}