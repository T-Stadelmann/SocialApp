{"ast":null,"code":"var _jsxFileName = \"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedNewPost/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport './index.css';\nimport { connect } from 'react-redux';\nimport { newPostFunction } from '../../store/actions/newPostAction';\n\nfunction FeedNewPost(props) {\n  const [selectedFile, setSelectedFile] = useState();\n  const [preview, setPreview] = useState();\n  const [content, setContent] = useState(' ');\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl);\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile]);\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    }\n\n    setSelectedFile(e.target.files[0]);\n  };\n\n  const newPostHandler = (e, content) => {\n    e.preventDefault();\n    const data = {\n      content,\n      image: preview,\n      link: ''\n    };\n    props.dispatch(newPostFunction(data, props));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"pop_up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pop_up_close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => props.closePopUp(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"X\"), React.createElement(\"div\", {\n    className: \"pop_up_inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pop_up_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pop_up_left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: require('../../assets/images/users/jennifer.png'),\n    id: \"profilepic\",\n    alt: \"profile pic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"pop_up_right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"new_post_form\",\n    onSubmit: newPostHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    name: \"new_post\",\n    type: \"text\",\n    defaultValue: props.props.content.content,\n    onChange: e => {\n      setContent(e.currentTarget.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: preview,\n    alt: \" \",\n    id: \"uploadimage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"pop_up_footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pop_up_footer_left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"img_upload\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"uploadimg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \" \",\n    src: require('../../assets/images/images.png'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), \" \"), React.createElement(\"input\", {\n    type: \"file\",\n    id: \"uploadimg\",\n    onChange: onSelectFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"pop_up_footer_right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: require('../../assets/images/send_posts.png'),\n    alt: \"send\",\n    onClick: e => newPostHandler(e, content),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))))));\n}\n\nconst mapStateToProps = state => {\n  return { ...state\n  };\n};\n\nexport default connect(mapStateToProps)(FeedNewPost);","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedNewPost/index.js"],"names":["React","useState","useEffect","connect","newPostFunction","FeedNewPost","props","selectedFile","setSelectedFile","preview","setPreview","content","setContent","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","onSelectFile","e","target","files","length","newPostHandler","preventDefault","data","image","link","dispatch","closePopUp","require","currentTarget","value","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport './index.css';\nimport {connect} from 'react-redux';\nimport {newPostFunction} from '../../store/actions/newPostAction';\n\nfunction FeedNewPost(props) {   \n    const [selectedFile, setSelectedFile] = useState()\n    const [preview, setPreview] = useState()\n    const [content, setContent] = useState(' '); \n\n    useEffect( () => {\n        if (!selectedFile) {\n            setPreview(undefined);\n            return\n        }\n        const objectUrl = URL.createObjectURL(selectedFile);\n        setPreview(objectUrl)\n        return () => URL.revokeObjectURL(objectUrl)\n    }   , [selectedFile])\n\n    const onSelectFile = e => {\n        if (!e.target.files || e.target.files.length === 0) {\n            setSelectedFile(undefined)\n            return\n        }\n\n     setSelectedFile(e.target.files[0]);\n    }\n\n    const newPostHandler = (e,content) => {\n        e.preventDefault();\n        const data = {\n            content,\n            image:preview,\n            link:'',\n        };\n        props.dispatch(newPostFunction(data,props));\n      }  \n      \n         return( \n            <div className=\"pop_up\">\n                <div className=\"pop_up_close\">\n                    <button onClick={() => props.closePopUp()}>X</button>  \n                    <div className=\"pop_up_inner\">\n                        <div className=\"pop_up_container\">\n                            <div className=\"pop_up_left\">          \n                                <img src={require('../../assets/images/users/jennifer.png')} id=\"profilepic\" alt=\"profile pic\" />\n                            </div>\n                            <div className=\"pop_up_right\">\n                                <form className=\"new_post_form\" onSubmit={newPostHandler}>\n                                    <textarea name='new_post' type='text' defaultValue={props.props.content.content} onChange={(e) => {setContent(e.currentTarget.value)}} ></textarea>\n                                    <img src={preview} alt=\" \" id=\"uploadimage\" />\n                                </form>\n                            </div>\n                        </div>\n                        <div className=\"pop_up_footer\">\n                            <div className=\"pop_up_footer_left\">\n                                <div className=\"img_upload\">  \n                                    <label htmlFor=\"uploadimg\"><img alt=\" \" src={require('../../assets/images/images.png')}/> </label> \n                                    <input type='file' id=\"uploadimg\" onChange={onSelectFile}/>\n                                </div>\n                            </div>\n                            <div className=\"pop_up_footer_right\">\n                                <img src={require('../../assets/images/send_posts.png')} alt=\"send\" onClick={(e)=>newPostHandler(e,content)} />              \n                            </div>         \n                        </div>\n                    </div>\n                </div>\n            </div>\n            )\n    }\n\nconst mapStateToProps = state => {\n    return {\n ...state,\n      };\n    };   \n\nexport default connect(mapStateToProps)(FeedNewPost);       \n"]},"metadata":{},"sourceType":"module"}