{"ast":null,"code":"import { verify, verifyerror } from \"../../types\";\nexport const verifyAction = () => ({\n  type: verify\n});\nexport const verifyError = () => ({\n  type: verifyerror\n});\nconst URL = `https://tracey.propulsion-learn.ch/backend/api/auth/registration/validation/`;\nexport const verifyFunction = data => dispatch => {\n  const config = {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  fetch(URL, config).then(function (response) {\n    if (response.ok) {\n      dispatch(verifyAction());\n    } else {\n      dispatch(verifyError());\n      response.json().then(function (object) {\n        const errorArray = Object.values(object);\n        let errorStr = '';\n\n        for (let i = 0; i < errorArray.length; i++) {\n          errorStr = errorStr + \"\\r\\n \" + errorArray[i];\n        }\n\n        ;\n        alert(\"Error: \" + errorStr);\n      });\n    }\n  });\n};","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/store/actions/verifyAction/index.js"],"names":["verify","verifyerror","verifyAction","type","verifyError","URL","verifyFunction","data","dispatch","config","method","body","JSON","stringify","headers","fetch","then","response","ok","json","object","errorArray","Object","values","errorStr","i","length","alert"],"mappings":"AAAA,SAAQA,MAAR,EAAeC,WAAf,QAAiC,aAAjC;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAO;AAC/BC,EAAAA,IAAI,EAAEH;AADyB,CAAP,CAArB;AAIP,OAAO,MAAMI,WAAW,GAAG,OAAO;AAC9BD,EAAAA,IAAI,EAAEF;AADwB,CAAP,CAApB;AAIP,MAAMI,GAAG,GAAI,8EAAb;AAEA,OAAO,MAAMC,cAAc,GAAIC,IAAD,IAAWC,QAAD,IAAc;AAClD,QAAMC,MAAM,GAAG;AACXC,IAAAA,MAAM,EAAE,MADG;AAEXC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFK;AAGXO,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AAHE,GAAf;AAMAC,EAAAA,KAAK,CAACV,GAAD,EAAMI,MAAN,CAAL,CACKO,IADL,CACU,UAASC,QAAT,EAAmB;AACrB,QAAIA,QAAQ,CAACC,EAAb,EAAiB;AACbV,MAAAA,QAAQ,CAACN,YAAY,EAAb,CAAR;AACH,KAFD,MAGK;AACDM,MAAAA,QAAQ,CAACJ,WAAW,EAAZ,CAAR;AACAa,MAAAA,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,UAASI,MAAT,EAAiB;AACtC,cAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAcH,MAAd,CAAnB;AACA,YAAII,QAAQ,GAAG,EAAf;;AACA,aAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAEJ,UAAU,CAACK,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrCD,UAAAA,QAAQ,GAAGA,QAAQ,GAAG,OAAX,GAAqBH,UAAU,CAACI,CAAD,CAA1C;AACH;;AAAA;AACDE,QAAAA,KAAK,CAAC,YAAWH,QAAZ,CAAL;AAEH,OARG;AASH;AACI,GAjBb;AAkBC,CAzBE","sourcesContent":["import {verify,verifyerror} from \"../../types\";\n\nexport const verifyAction = () => ({\n    type: verify,\n});\n\nexport const verifyError = () => ({\n    type: verifyerror\n})\n\nconst URL = `https://tracey.propulsion-learn.ch/backend/api/auth/registration/validation/`;\n \nexport const verifyFunction = (data) => (dispatch) => {\n    const config = {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: {'Content-Type': 'application/json'}\n    };\n\n    fetch(URL, config)\n        .then(function(response) {\n            if (response.ok) {\n                dispatch(verifyAction());\n            } \n            else {\n                dispatch(verifyError());\n                response.json().then(function(object) {\n                const errorArray = Object.values(object);\n                let errorStr = '';   \n                for (let i=0; i <errorArray.length; i++) {\n                    errorStr = errorStr + \"\\r\\n \" + errorArray[i]; \n                };\n                alert(\"Error: \"+ errorStr)\n            \n            })\n            }\n                })\n    }"]},"metadata":{},"sourceType":"module"}