{"ast":null,"code":"import _objectSpread from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./index.css';import{connect}from'react-redux';import TimeAgo from'react-timeago';import englishStrings from'react-timeago/lib/language-strings/en';import buildFormatter from'react-timeago/lib/formatters/buildFormatter';import LikePostFunction from'../../store/actions/LikePostAction';import FeedPostMenu from'../FeedPostMenu';import editPostMenuFunction from'../../store/actions/editPostMenuAction';import sendEditPostFunction from'../../store/actions/sendEditPostAction';import FeedDeletePost from'../FeedDeletePost';var formatter=buildFormatter(englishStrings);function FeedFullPost(props){var _useState=useState(props.FeedReducer.postFullPopUp.amount_of_likes),_useState2=_slicedToArray(_useState,2),amount_of_likes=_useState2[0],setLikes=_useState2[1];var _useState3=useState(props.FeedReducer.postFullPopUp.logged_in_user_liked),_useState4=_slicedToArray(_useState3,2),logged_in_user_liked=_useState4[0],setUserLiked=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),editPost=_useState6[0],setEditPost=_useState6[1];var _useState7=useState(props.FeedReducer.postFullPopUp.content),_useState8=_slicedToArray(_useState7,2),content=_useState8[0],setContent=_useState8[1];var LikePostHandler=function LikePostHandler(e){var post_id=e.target.id;props.dispatch(LikePostFunction(props,post_id));if(logged_in_user_liked===true){setLikes(amount_of_likes-1);setUserLiked(!logged_in_user_liked);}else{setLikes(amount_of_likes+1);setUserLiked(!logged_in_user_liked);}};var editPostHandler=function editPostHandler(){setEditPost(!editPost);props.dispatch(editPostMenuFunction(props));};var sendEditPostHandler=function sendEditPostHandler(e,props,content){e.preventDefault();var data={images:[],content:content};var post_id=props.FeedReducer.postFullPopUpID;;props.dispatch(sendEditPostFunction(post_id,props,data));};var post_id=props.FeedReducer.postFullPopUpID;var postArr=props.PostsReducer.postitems;var fullPost=postArr.filter(function(post){return post.id===post_id;});if(fullPost===undefined){return React.createElement(\"div\",null,\"Loading ...\");}else{return React.createElement(\"div\",{className:\"pop_up_full_post\"},React.createElement(\"div\",{className:\"pop_up_full_post_close\"},React.createElement(\"button\",{onClick:function onClick(e){return props.closeFullPostHandler(e,props);}},\"X\"),React.createElement(\"div\",{className:\"pop_up_full_inner\"},props.FeedReducer.deletePostMenu?React.createElement(FeedDeletePost,{props:props}):React.createElement(React.Fragment,null,fullPost[0].images[0]?React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"pop_up_full_container\"},React.createElement(\"div\",{className:\"pop_up_full_left\"},React.createElement(\"img\",{src:fullPost[0].images[0].image,alt:fullPost[0].images[0].image})),React.createElement(\"div\",{className:\"pop_up_full_right\"},React.createElement(\"div\",{className:\"pop_up_full_header\"},React.createElement(\"div\",{className:\"pop_up_full_header_left\"},fullPost[0].user.avatar?React.createElement(\"img\",{src:fullPost[0].user.avatar,alt:fullPost[0].user.avatar}):React.createElement(\"img\",{src:require('../../assets/images/blank_avatar.png'),alt:\"avatar\"}),React.createElement(\"div\",{className:\"post_pop_up_name\"},fullPost[0].user.first_name,\" \",fullPost[0].user.last_name,React.createElement(TimeAgo,{date:fullPost[0].created,formatter:formatter}))),React.createElement(\"div\",{className:\"post_header_dots\"},fullPost[0].is_from_logged_in_user?React.createElement(FeedPostMenu,{props:props}):React.createElement(\"img\",{src:require('../../assets/images/send_button.png'),alt:\"three dots\",id:\"dots\"}))),React.createElement(\"div\",{className:\"pop_up_post_full_content\"},props.FeedReducer.editPostMenu?React.createElement(React.Fragment,null,React.createElement(\"textarea\",{name:\"new_post\",type:\"text\",defaultValue:content,onChange:function onChange(e){setContent(e.currentTarget.value);}}),React.createElement(\"div\",{className:\"post_edit_buttons\"},React.createElement(\"button\",{type:\"submit\",id:\"submit_edit_post\",onClick:function onClick(e){sendEditPostHandler(e,props,content);editPostHandler();}},\"Submit\"),React.createElement(\"button\",{type:\"submit\",id:\"cancel_edit_post\",onClick:function onClick(){return editPostHandler();}},\"Cancel\"))):content),React.createElement(\"div\",{className:\"pop_up_full_footer_top\"},React.createElement(\"p\",null,amount_of_likes,\" \",amount_of_likes===1?\"like\":\"likes\")),React.createElement(\"div\",{className:\"pop_up_full_footer_bottom\"},React.createElement(\"img\",{src:require('../../assets/images/like.png'),alt:\"like\",id:fullPost[0].id,onClick:function onClick(e){return LikePostHandler(e);}}),React.createElement(\"p\",null,\"Like\"),React.createElement(\"img\",{src:require('../../assets/images/share.png'),alt:\"share\"}),React.createElement(\"p\",null,\"Share\"))))):React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"pop_up_full_container\"},React.createElement(\"div\",{className:\"hide_me\"}),React.createElement(\"div\",{className:\"pop_up_full_right_no_img\"},React.createElement(\"div\",{className:\"pop_up_full_header\"},React.createElement(\"div\",{className:\"pop_up_full_header_left\"},fullPost[0].user.avatar?React.createElement(\"img\",{src:fullPost[0].user.avatar,alt:fullPost[0].user.avatar}):React.createElement(\"img\",{src:require('../../assets/images/blank_avatar.png'),alt:\"avatar\"}),React.createElement(\"div\",{className:\"post_pop_up_name\"},fullPost[0].user.first_name,\" \",fullPost[0].user.last_name,React.createElement(TimeAgo,{date:fullPost[0].created,formatter:formatter}))),React.createElement(\"div\",{className:\"post_header_dots\"},fullPost[0].is_from_logged_in_user?React.createElement(FeedPostMenu,{props:props}):React.createElement(\"img\",{src:require('../../assets/images/send_button.png'),alt:\"three dots\",id:\"dots\"}))),React.createElement(\"div\",{className:\"pop_up_post_full_content\"},props.FeedReducer.editPostMenu?React.createElement(React.Fragment,null,React.createElement(\"textarea\",{name:\"new_post\",type:\"text\",defaultValue:content,onChange:function onChange(e){setContent(e.currentTarget.value);}}),React.createElement(\"div\",{className:\"post_edit_buttons\"},React.createElement(\"button\",{type:\"submit\",id:\"submit_edit_post\",onClick:function onClick(e){sendEditPostHandler(e,props,content);editPostHandler();}},\"Submit\"),React.createElement(\"button\",{type:\"submit\",id:\"cancel_edit_post\",onClick:function onClick(){return editPostHandler();}},\"Cancel\"))):content),React.createElement(\"div\",{className:\"pop_up_full_footer_top\"},React.createElement(\"p\",null,amount_of_likes,\" \",amount_of_likes===1?\"like\":\"likes\")),React.createElement(\"div\",{className:\"pop_up_full_footer_bottom\"},React.createElement(\"img\",{src:require('../../assets/images/like.png'),alt:\"like\",id:fullPost[0].id,onClick:function onClick(e){return LikePostHandler(e);}}),React.createElement(\"p\",null,\"Like\"),React.createElement(\"img\",{src:require('../../assets/images/share.png'),alt:\"share\"}),React.createElement(\"p\",null,\"Share\")))))))));}}var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state,{content:state.content});};export default connect(mapStateToProps)(FeedFullPost);","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedFullPost/index.js"],"names":["React","useState","connect","TimeAgo","englishStrings","buildFormatter","LikePostFunction","FeedPostMenu","editPostMenuFunction","sendEditPostFunction","FeedDeletePost","formatter","FeedFullPost","props","FeedReducer","postFullPopUp","amount_of_likes","setLikes","logged_in_user_liked","setUserLiked","editPost","setEditPost","content","setContent","LikePostHandler","e","post_id","target","id","dispatch","editPostHandler","sendEditPostHandler","preventDefault","data","images","postFullPopUpID","postArr","PostsReducer","postitems","fullPost","filter","post","undefined","closeFullPostHandler","deletePostMenu","image","user","avatar","require","first_name","last_name","created","is_from_logged_in_user","editPostMenu","currentTarget","value","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport './index.css';\nimport {connect} from 'react-redux';\nimport TimeAgo from 'react-timeago';\nimport englishStrings from 'react-timeago/lib/language-strings/en';\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter';\nimport LikePostFunction from '../../store/actions/LikePostAction';\nimport FeedPostMenu from '../FeedPostMenu';\nimport editPostMenuFunction from '../../store/actions/editPostMenuAction';\nimport sendEditPostFunction from '../../store/actions/sendEditPostAction';\nimport FeedDeletePost from '../FeedDeletePost';\n\nconst formatter = buildFormatter(englishStrings)\n\nfunction FeedFullPost(props) {  \n    const [amount_of_likes, setLikes] = useState(props.FeedReducer.postFullPopUp.amount_of_likes); \n    const [logged_in_user_liked, setUserLiked] = useState(props.FeedReducer.postFullPopUp.logged_in_user_liked);\n    const [editPost,setEditPost] = useState(false);\n    const [content, setContent] = useState(props.FeedReducer.postFullPopUp.content); \n\n    const LikePostHandler = (e) => {       \n        const post_id = e.target.id;\n        props.dispatch(LikePostFunction(props,post_id));\n        if (logged_in_user_liked === true) {\n            setLikes(amount_of_likes - 1);\n            setUserLiked(!logged_in_user_liked);\n        } else {\n            setLikes(amount_of_likes + 1);\n            setUserLiked(!logged_in_user_liked);\n        }\n        } \n\n    const editPostHandler = () => { \n        setEditPost(!editPost);\n        props.dispatch(editPostMenuFunction(props));\n        }       \n    \n    const sendEditPostHandler = (e,props,content) => {\n         e.preventDefault();\n         const data = {\n            images: [],\n            content: content,\n\n        }\n        const post_id = props.FeedReducer.postFullPopUpID;;\n        props.dispatch(sendEditPostFunction(post_id,props,data));\n          }  \n\n     \n    const post_id = props.FeedReducer.postFullPopUpID;\n    const postArr = props.PostsReducer.postitems;\n    const fullPost = postArr.filter(function (post){\n    return post.id === post_id\n                })\n        if(fullPost === undefined){\n            return (\n                <div>Loading ...</div>\n                    )\n        } else { \n            return (    \n                <div className=\"pop_up_full_post\">\n                    <div className=\"pop_up_full_post_close\">\n                        <button onClick={(e) => props.closeFullPostHandler(e,props)}>X</button>                         \n                        <div className=\"pop_up_full_inner\">\n                        { props.FeedReducer.deletePostMenu ? \n                              <FeedDeletePost props={props}/> : \n                            <>    \n                            {fullPost[0].images[0] ?  \n                                <>\n                                <div className=\"pop_up_full_container\">\n                                   <div className=\"pop_up_full_left\">\n                                    <img src={fullPost[0].images[0].image} alt={fullPost[0].images[0].image}/>\n                                    </div> \n                                    <div className=\"pop_up_full_right\">\n                                        <div className=\"pop_up_full_header\">\n                                            <div className=\"pop_up_full_header_left\">\n                                                {fullPost[0].user.avatar ? <img src={fullPost[0].user.avatar} alt={fullPost[0].user.avatar}/> :<img src={require('../../assets/images/blank_avatar.png')} alt={\"avatar\"}/>}    \n                                                <div className=\"post_pop_up_name\"> \n                                                    {fullPost[0].user.first_name} {fullPost[0].user.last_name}\n                                                    <TimeAgo date={fullPost[0].created} formatter={formatter} />\n                                                </div>\n                                            </div>\n                                            <div className=\"post_header_dots\">  \n                                            { fullPost[0].is_from_logged_in_user ?  \n                                                <FeedPostMenu props={props}\n                                                />\n                                                :\n                                                <img src={require('../../assets/images/send_button.png')} alt=\"three dots\" id=\"dots\" />\n                                            }\n                                            </div>\n                                    </div>\n                                    <div className=\"pop_up_post_full_content\">\n                                    { props.FeedReducer.editPostMenu ? \n                                      <>\n                                      <textarea name='new_post' type='text' defaultValue={content} onChange={(e) => {setContent(e.currentTarget.value)}}></textarea>\n                                        <div className=\"post_edit_buttons\">\n                                        <button type=\"submit\" id=\"submit_edit_post\" onClick={(e) => {sendEditPostHandler(e,props,content);editPostHandler()}}>Submit</button>\n                                        <button type=\"submit\" id=\"cancel_edit_post\" onClick={() => editPostHandler()}>Cancel</button>\n                                        </div>\n                                        </>\n                                        : content}                                   \n                                        </div>\n                                        <div className=\"pop_up_full_footer_top\">\n                                            <p>{amount_of_likes} {amount_of_likes ===1 ? \"like\" : \"likes\"}</p>                                   \n                                        </div>\n                                        <div className=\"pop_up_full_footer_bottom\">\n                                            <img src={require('../../assets/images/like.png')} alt=\"like\" id={fullPost[0].id} onClick={(e)=>LikePostHandler(e)}/>\n                                            <p>Like</p>\n                                            <img src={require('../../assets/images/share.png')} alt=\"share\"/>   \n                                            <p>Share</p>\n                                        </div>         \n                                    </div>\n                                    </div>\n                                    </>\n                                    :\n                                    <>\n                                        <div className=\"pop_up_full_container\">\n                                            <div className=\"hide_me\">\n                                            </div>                            \n                                        <div className=\"pop_up_full_right_no_img\">\n                                            <div className=\"pop_up_full_header\">\n                                                <div className=\"pop_up_full_header_left\">\n                                                    {fullPost[0].user.avatar ? <img src={fullPost[0].user.avatar} alt={fullPost[0].user.avatar}/> :<img src={require('../../assets/images/blank_avatar.png')} alt={\"avatar\"}/>}    \n                                                    <div className=\"post_pop_up_name\"> \n                                                        {fullPost[0].user.first_name} {fullPost[0].user.last_name}\n                                                        <TimeAgo date={fullPost[0].created} formatter={formatter} />\n                                                    </div>\n                                                </div>\n                                                <div className=\"post_header_dots\">   \n                                                { fullPost[0].is_from_logged_in_user ?  \n                                            <FeedPostMenu props={props}/>\n                                                :\n                                                <img src={require('../../assets/images/send_button.png')} alt=\"three dots\" id=\"dots\" />\n                                            }\n                                                </div>\n                                            </div>\n                                        <div className=\"pop_up_post_full_content\">\n                                        { props.FeedReducer.editPostMenu ? \n                                      <>\n                                      <textarea name='new_post' type='text' defaultValue={content} onChange={(e) => {setContent(e.currentTarget.value)}}></textarea>\n                                        <div className=\"post_edit_buttons\">\n                                        <button type=\"submit\" id=\"submit_edit_post\" onClick={(e) => {sendEditPostHandler(e,props,content);editPostHandler()}}>Submit</button>\n                                        <button type=\"submit\" id=\"cancel_edit_post\" onClick={() => editPostHandler()}>Cancel</button>\n                                        </div>\n                                        </>\n                                        : content}                                   \n                                        </div>\n                                        <div className=\"pop_up_full_footer_top\">\n                                            <p>{amount_of_likes} {amount_of_likes ===1 ? \"like\" : \"likes\"}</p>                                   \n                                        </div>\n                                        <div className=\"pop_up_full_footer_bottom\">\n                                            <img src={require('../../assets/images/like.png')} alt=\"like\" id={fullPost[0].id} onClick={(e)=>LikePostHandler(e)}/>\n                                            <p>Like</p>\n                                            <img src={require('../../assets/images/share.png')} alt=\"share\"/>   \n                                            <p>Share</p>\n                                        </div>         \n                                    </div>\n                                </div>\n                                </>\n                              }\n                              </>\n        }\n                        </div>\n                    </div>\n                </div>\n               )\n\n            }\n    }\n\nconst mapStateToProps = state => {\n    return {\n        ...state,\n        content: state.content,\n      };\n    };   \n\nexport default connect(mapStateToProps)(FeedFullPost);       "]},"metadata":{},"sourceType":"module"}