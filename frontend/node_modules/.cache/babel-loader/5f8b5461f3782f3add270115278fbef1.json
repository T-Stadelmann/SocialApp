{"ast":null,"code":"import _objectSpread from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect}from'react';import'./index.css';import getPostFunction from'../../store/actions/getPostsAction';import{connect}from'react-redux';import TimeAgo from'react-timeago';import englishStrings from'react-timeago/lib/language-strings/en';import buildFormatter from'react-timeago/lib/formatters/buildFormatter';import FeedLikeButton from'../FeedLikeButton';import getUserFunction from'../../store/actions/getUserAction';var formatter=buildFormatter(englishStrings);function FeedFeed(props){useEffect(function(){props.dispatch(getPostFunction(props));!props.UserReducer.userID?props.dispatch(getUserFunction(props)):console.log('');},[]);var posts=props.PostsReducer.postitems;if(posts===undefined||posts.length===0||posts.code===\"token_not_valid\"){return React.createElement(\"div\",null,\"Loading ...\");}else{return React.createElement(\"div\",{className:\"posts\"},posts.map(function(post){return React.createElement(\"div\",{className:\"post_container\",id:post.id,key:post.id},React.createElement(\"div\",{className:\"post_header\"},post.user.avatar?React.createElement(\"img\",{src:post.user.avatar,alt:post.user.avatar}):React.createElement(\"img\",{src:require('../../assets/images/blank_avatar.png'),alt:\"avatar\"}),React.createElement(\"div\",{className:\"post_name\"},post.user.first_name,\" \",post.user.last_name,React.createElement(TimeAgo,{date:post.created,formatter:formatter}))),React.createElement(\"div\",{className:\"post_content\",onClick:function onClick(e){return props.fullPostHandler(e,post);}},post.content),React.createElement(\"div\",{className:\"post_images\",onClick:function onClick(e){return props.fullPostHandler(e,post);}},post.images[0]?React.createElement(\"img\",{src:post.images[0].image,alt:post.images[0].image}):React.createElement(\"div\",null),post.images[1]?React.createElement(\"img\",{src:post.images[1].image,alt:post.images[1].image}):React.createElement(\"div\",null),post.images[2]?React.createElement(\"img\",{src:post.images[2].image,alt:post.images[2].image}):React.createElement(\"div\",null),post.images[3]?React.createElement(\"img\",{src:post.images[3].image,alt:post.images[3].image}):React.createElement(\"div\",null)),React.createElement(\"div\",{className:\"post_footer\"},React.createElement(FeedLikeButton,{props:props,post:post})));}));}}var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state);};export default connect(mapStateToProps)(FeedFeed);","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedFeed/index.js"],"names":["React","useEffect","getPostFunction","connect","TimeAgo","englishStrings","buildFormatter","FeedLikeButton","getUserFunction","formatter","FeedFeed","props","dispatch","UserReducer","userID","console","log","posts","PostsReducer","postitems","undefined","length","code","map","post","id","user","avatar","require","first_name","last_name","created","e","fullPostHandler","content","images","image","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react';\nimport './index.css';\nimport getPostFunction from '../../store/actions/getPostsAction';\nimport {connect} from 'react-redux';\nimport TimeAgo from 'react-timeago'\nimport englishStrings from 'react-timeago/lib/language-strings/en'\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\nimport FeedLikeButton from '../FeedLikeButton';\nimport getUserFunction from '../../store/actions/getUserAction';\n \nconst formatter = buildFormatter(englishStrings)\n\nfunction FeedFeed(props) {\n    useEffect(() => {\n        props.dispatch(getPostFunction(props));\n        !props.UserReducer.userID ? props.dispatch(getUserFunction(props)) : console.log('');\n        }, []);\n    \n    const posts = props.PostsReducer.postitems;\n    if(posts === undefined || posts.length === 0 || posts.code === \"token_not_valid\"){\n        return (\n            <div>Loading ...</div>\n                ) \n        } else {\n            return (\n                <div className=\"posts\">\n                    {posts.map(post => \n                        <div className=\"post_container\" id={post.id} key={post.id} >\n                            <div className=\"post_header\">\n                                {post.user.avatar ? <img src={post.user.avatar} alt={post.user.avatar}/> :<img src={require('../../assets/images/blank_avatar.png')} alt={\"avatar\"}/>}    \n                                <div className=\"post_name\"> \n                                    {post.user.first_name} {post.user.last_name}\n                                    <TimeAgo date={post.created} formatter={formatter} />\n                                </div>\n                            </div>\n                            <div className=\"post_content\" onClick={(e) => props.fullPostHandler(e,post)}>\n                                {post.content}\n                                </div>\n\n                                <div className=\"post_images\" onClick={(e) => props.fullPostHandler(e,post)}>\n                                    {post.images[0] ?  <img src={post.images[0].image} alt={post.images[0].image}/> : <div></div> } \n                                    {post.images[1] ?  <img src={post.images[1].image} alt={post.images[1].image}/> : <div></div> } \n                                    {post.images[2] ?  <img src={post.images[2].image} alt={post.images[2].image}/> : <div></div> } \n                                    {post.images[3] ?  <img src={post.images[3].image} alt={post.images[3].image}/> : <div></div> }             \n                            </div>\n                            <div className=\"post_footer\">\n                                <FeedLikeButton \n                                props={props}\n                                post={post}\n                                />\n                            </div>\n                        </div>)}\n                </div>\n            )}   \n    }\n\n\nconst mapStateToProps = state => {\n    return {\n        ...state,\n      };\n    };   \n\nexport default connect(mapStateToProps)(FeedFeed);       \n\n"]},"metadata":{},"sourceType":"module"}