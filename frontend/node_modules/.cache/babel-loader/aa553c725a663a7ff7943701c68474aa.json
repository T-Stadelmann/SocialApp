{"ast":null,"code":"import _objectSpread from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect}from'react';import{connect}from'react-redux';import verifyTokenFunction from'../../store/actions/tokenVerify/';export default function HOCWrapper(WrappedComponent){function AuthComponent(props){useEffect(function(){redirectUser();},[props.token]);var redirectUser=function redirectUser(){if(!props.token){props.history.push('/signin');}else{verifyTokenFunction(props);}};return React.createElement(WrappedComponent,props);}function mapStateToProps(state){return _objectSpread({},state,{token:state.SignInReducer.token});}return connect(mapStateToProps)(AuthComponent);};","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/HOC/HOCWrapper/index.js"],"names":["React","useEffect","connect","verifyTokenFunction","HOCWrapper","WrappedComponent","AuthComponent","props","redirectUser","token","history","push","mapStateToProps","state","SignInReducer"],"mappings":"4KAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,kCAAhC,CAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,gBAApB,CAAsC,CACjD,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC1BN,SAAS,CAAC,UAAM,CACZO,YAAY,GACf,CAFQ,CAEN,CAACD,KAAK,CAACE,KAAP,CAFM,CAAT,CAIA,GAAMD,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAI,CAACD,KAAK,CAACE,KAAX,CAAkB,CACdF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,SAAnB,EACH,CAFD,IAEO,CACHR,mBAAmB,CAACI,KAAD,CAAnB,CACC,CACR,CAND,CAQA,MAAO,qBAAC,gBAAD,CAAsBA,KAAtB,CAAP,CACH,CAGD,QAASK,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5B,wBACOA,KADP,EAEIJ,KAAK,CAAEI,KAAK,CAACC,aAAN,CAAoBL,KAF/B,GAIH,CAED,MAAOP,CAAAA,OAAO,CAACU,eAAD,CAAP,CAAyBN,aAAzB,CAAP,CACH","sourcesContent":["import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport verifyTokenFunction from '../../store/actions/tokenVerify/'\n\nexport default function HOCWrapper(WrappedComponent) {\n    function AuthComponent(props) {\n        useEffect(() => {\n            redirectUser()\n        }, [props.token]);\n\n        const redirectUser = () => {\n            if (!props.token) { \n                props.history.push('/signin')\n            } else {\n                verifyTokenFunction(props);\n                }\n        };\n\n        return <WrappedComponent {...props}/>\n    }\n    \n\n    function mapStateToProps(state) {\n        return {\n            ...state,\n            token: state.SignInReducer.token\n        }\n    }\n\n    return connect(mapStateToProps)(AuthComponent)\n}; "]},"metadata":{},"sourceType":"module"}