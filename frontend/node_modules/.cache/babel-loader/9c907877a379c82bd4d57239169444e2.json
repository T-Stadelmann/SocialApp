{"ast":null,"code":"import _objectSpread from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{connect}from'react-redux';import'./index.css';import LikePostFunction from'../../store/actions/LikePostAction';function FeedLikeButton(props){var _useState=useState(props.post.amount_of_likes),_useState2=_slicedToArray(_useState,2),amount_of_likes=_useState2[0],setLikes=_useState2[1];var _useState3=useState(props.post.logged_in_user_liked),_useState4=_slicedToArray(_useState3,2),logged_in_user_liked=_useState4[0],setUserLiked=_useState4[1];var LikePostHandler=function LikePostHandler(e){var post_id=e.target.id;var new_post=props.post;props.post.logged_in_user_liked=!new_post.logged_in_user_liked;props.dispatch(LikePostFunction(props,post_id,new_post));if(logged_in_user_liked===true){setLikes(amount_of_likes-1);setUserLiked(!logged_in_user_liked);if(props.FeedReducer.currentFeedState===\"POST_LIKE\"){props.updateLikedPosts(post_id);props.post.amount_of_likes=props.post.amount_of_likes-1;}}else{setLikes(amount_of_likes+1);setUserLiked(!logged_in_user_liked);props.post.amount_of_likes=props.post.amount_of_likes+1;}};return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"post_footer_left\"},React.createElement(\"img\",{src:require('../../assets/images/like.png'),alt:\"like\",id:props.post.id,onClick:function onClick(e){return LikePostHandler(e);}}),React.createElement(\"p\",null,\"Like\"),React.createElement(\"img\",{src:require('../../assets/images/share.png'),alt:\"share\"}),React.createElement(\"p\",null,\"Share\")),React.createElement(\"div\",{className:\"post_footer_right\"},React.createElement(\"p\",null,amount_of_likes,\" \",amount_of_likes===1?\"like\":\"likes\")));}var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state);};export default connect(mapStateToProps)(FeedLikeButton);","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedLikeButton/index.js"],"names":["React","useState","connect","LikePostFunction","FeedLikeButton","props","post","amount_of_likes","setLikes","logged_in_user_liked","setUserLiked","LikePostHandler","e","post_id","target","id","new_post","dispatch","FeedReducer","currentFeedState","updateLikedPosts","require","mapStateToProps","state"],"mappings":"yVAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA8B,OAA9B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CAEA,QAASC,CAAAA,cAAT,CAAwBC,KAAxB,CAA+B,eACSJ,QAAQ,CAACI,KAAK,CAACC,IAAN,CAAWC,eAAZ,CADjB,wCACpBA,eADoB,eACHC,QADG,8BAEkBP,QAAQ,CAACI,KAAK,CAACC,IAAN,CAAWG,oBAAZ,CAF1B,yCAEpBA,oBAFoB,eAEEC,YAFF,eAI3B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAO,CAC3B,GAAMC,CAAAA,OAAO,CAAGD,CAAC,CAACE,MAAF,CAASC,EAAzB,CACA,GAAMC,CAAAA,QAAQ,CAAGX,KAAK,CAACC,IAAvB,CACAD,KAAK,CAACC,IAAN,CAAWG,oBAAX,CAAkC,CAACO,QAAQ,CAACP,oBAA5C,CACAJ,KAAK,CAACY,QAAN,CAAed,gBAAgB,CAACE,KAAD,CAAOQ,OAAP,CAAeG,QAAf,CAA/B,EAEA,GAAIP,oBAAoB,GAAK,IAA7B,CAAmC,CAC/BD,QAAQ,CAACD,eAAe,CAAG,CAAnB,CAAR,CACAG,YAAY,CAAC,CAACD,oBAAF,CAAZ,CACA,GAAIJ,KAAK,CAACa,WAAN,CAAkBC,gBAAlB,GAAuC,WAA3C,CAAwD,CACxDd,KAAK,CAACe,gBAAN,CAAuBP,OAAvB,EACAR,KAAK,CAACC,IAAN,CAAWC,eAAX,CAA6BF,KAAK,CAACC,IAAN,CAAWC,eAAX,CAA4B,CAAzD,CACH,CAEA,CARD,IAQO,CACHC,QAAQ,CAACD,eAAe,CAAG,CAAnB,CAAR,CACAG,YAAY,CAAC,CAACD,oBAAF,CAAZ,CACAJ,KAAK,CAACC,IAAN,CAAWC,eAAX,CAA6BF,KAAK,CAACC,IAAN,CAAWC,eAAX,CAA6B,CAA1D,CACH,CACA,CAnBL,CAoBG,MACI,yCACH,2BAAK,SAAS,CAAC,kBAAf,EACI,2BAAK,GAAG,CAAEc,OAAO,CAAC,8BAAD,CAAjB,CAAmD,GAAG,CAAC,MAAvD,CAA8D,EAAE,CAAEhB,KAAK,CAACC,IAAN,CAAWS,EAA7E,CAAiF,OAAO,CAAE,iBAACH,CAAD,QAAKD,CAAAA,eAAe,CAACC,CAAD,CAApB,EAA1F,EADJ,CAEI,oCAFJ,CAGI,2BAAK,GAAG,CAAES,OAAO,CAAC,+BAAD,CAAjB,CAAoD,GAAG,CAAC,OAAxD,EAHJ,CAII,qCAJJ,CADG,CAOH,2BAAK,SAAS,CAAC,mBAAf,EACI,6BAAId,eAAJ,KAAsBA,eAAe,GAAI,CAAnB,CAAuB,MAAvB,CAAgC,OAAtD,CADJ,CAPG,CADJ,CAaF,CAEL,GAAMe,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,wBACOA,KADP,EAGC,CAJL,CAMA,cAAerB,CAAAA,OAAO,CAACoB,eAAD,CAAP,CAAyBlB,cAAzB,CAAf","sourcesContent":["import React,{useState}  from 'react';\nimport {connect} from 'react-redux';\nimport './index.css';\nimport LikePostFunction from '../../store/actions/LikePostAction';\n\nfunction FeedLikeButton(props) {    \n    const [amount_of_likes, setLikes] = useState(props.post.amount_of_likes); \n    const [logged_in_user_liked, setUserLiked] = useState(props.post.logged_in_user_liked);\n\n    const LikePostHandler = (e) => {        \n        const post_id = e.target.id;\n        const new_post = props.post;\n        props.post.logged_in_user_liked = !new_post.logged_in_user_liked; \n        props.dispatch(LikePostFunction(props,post_id,new_post));       \n        \n        if (logged_in_user_liked === true) {\n            setLikes(amount_of_likes - 1);\n            setUserLiked(!logged_in_user_liked);\n            if (props.FeedReducer.currentFeedState === \"POST_LIKE\") {\n            props.updateLikedPosts(post_id);\n            props.post.amount_of_likes = props.post.amount_of_likes- 1;\n        }\n\n        } else {\n            setLikes(amount_of_likes + 1);\n            setUserLiked(!logged_in_user_liked);\n            props.post.amount_of_likes = props.post.amount_of_likes + 1;\n        }\n        } \n       return(\n           <>\n        <div className=\"post_footer_left\">\n            <img src={require('../../assets/images/like.png')} alt=\"like\" id={props.post.id} onClick={(e)=>LikePostHandler(e)}/>\n            <p>Like</p>\n            <img src={require('../../assets/images/share.png')} alt=\"share\"/>   \n            <p>Share</p>\n        </div>\n        <div className=\"post_footer_right\">\n            <p>{amount_of_likes} {amount_of_likes ===1 ? \"like\" : \"likes\"}</p>\n         </div>\n         </>   \n            )\n    }\n    \nconst mapStateToProps = state => {\n    return {\n        ...state,\n      };\n    };   \n\nexport default connect(mapStateToProps)(FeedLikeButton);       "]},"metadata":{},"sourceType":"module"}