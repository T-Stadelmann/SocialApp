{"ast":null,"code":"import _objectSpread from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import'./index.css';import{connect}from'react-redux';import TimeAgo from'react-timeago';import englishStrings from'react-timeago/lib/language-strings/en';import buildFormatter from'react-timeago/lib/formatters/buildFormatter';import FeedLikeButton from'../FeedLikeButton';import UpdatePostPageFunction from'../../store/actions/updatePostPageAction';var formatter=buildFormatter(englishStrings);function FeedFeedLike(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),liked_posts=_useState2[0],setLikedPosts=_useState2[1];var posts=props.PostsReducer;if(posts.postitems.length>0&&liked_posts===undefined){var current_liked_posts=posts.postitems.filter(function(post){return post.logged_in_user_liked;});setLikedPosts(current_liked_posts);}var updateLikedPosts=function updateLikedPosts(post_id){var new_liked_posts=liked_posts.filter(function(post){return post.id!==parseInt(post_id);});setLikedPosts(new_liked_posts);};var PostPageHandler=function PostPageHandler(e){var newFeedState=\"POST_ALL\";props.dispatch(UpdatePostPageFunction(newFeedState));};if(liked_posts===undefined){return React.createElement(\"div\",null,\"Loading ...\");}else if(liked_posts.length===0){return React.createElement(\"div\",{className:\"posts_like_feed\"},React.createElement(\"div\",{className:\"post_like_container\"},React.createElement(\"div\",{className:\"friend_empty\"},React.createElement(\"p\",null,\"You haven't liked any posts yet..\"),React.createElement(\"p\",null,\"Want to find some more content?\"),React.createElement(\"button\",{id:\"go_like_stuff\",onClick:function onClick(e){return PostPageHandler(e);}},\"Find Posts\"))));}else{return React.createElement(\"div\",{className:\"posts_like_feed\"},React.createElement(\"div\",{className:\"post_like_container\"},liked_posts.map(function(post){return React.createElement(\"div\",{className:\"post_container\",id:post.id,key:post.id},React.createElement(\"div\",{className:\"post_header\"},post.user.avatar?React.createElement(\"img\",{src:post.user.avatar,alt:post.user.avatar}):React.createElement(\"img\",{src:require('../../assets/images/blank_avatar.png'),alt:\"avatar\"}),React.createElement(\"div\",{className:\"post_name\"},post.user.first_name,\" \",post.user.last_name,React.createElement(TimeAgo,{date:post.created,formatter:formatter}))),React.createElement(\"div\",{className:\"post_content\",onClick:function onClick(e){return props.fullPostHandler(e,post);}},post.content),React.createElement(\"div\",{className:\"post_images\",onClick:function onClick(e){return props.fullPostHandler(e,post);}},post.images[0]?React.createElement(\"img\",{src:post.images[0].image,alt:post.images[0].image}):React.createElement(\"div\",null),post.images[1]?React.createElement(\"img\",{src:post.images[1].image,alt:post.images[1].image}):React.createElement(\"div\",null),post.images[2]?React.createElement(\"img\",{src:post.images[2].image,alt:post.images[2].image}):React.createElement(\"div\",null),post.images[3]?React.createElement(\"img\",{src:post.images[3].image,alt:post.images[3].image}):React.createElement(\"div\",null)),React.createElement(\"div\",{className:\"post_footer\"},React.createElement(FeedLikeButton,{props:props,post:post,updateLikedPosts:updateLikedPosts})));})));}}var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state);};export default connect(mapStateToProps)(FeedFeedLike);","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/components/FeedFeedLike/index.js"],"names":["React","useState","Link","connect","TimeAgo","englishStrings","buildFormatter","FeedLikeButton","UpdatePostPageFunction","formatter","FeedFeedLike","props","liked_posts","setLikedPosts","posts","PostsReducer","postitems","length","undefined","current_liked_posts","filter","post","logged_in_user_liked","updateLikedPosts","post_id","new_liked_posts","id","parseInt","PostPageHandler","e","newFeedState","dispatch","map","user","avatar","require","first_name","last_name","created","fullPostHandler","content","images","image","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport './index.css';\n\nimport {connect} from 'react-redux';\nimport TimeAgo from 'react-timeago'\nimport englishStrings from 'react-timeago/lib/language-strings/en'\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\nimport FeedLikeButton from '../FeedLikeButton';\nimport UpdatePostPageFunction from '../../store/actions/updatePostPageAction'\n\nconst formatter = buildFormatter(englishStrings)\n\nfunction FeedFeedLike(props) {\n    const [liked_posts, setLikedPosts] = useState();\n\n    const posts = props.PostsReducer;\n\n        if (posts.postitems.length > 0 && liked_posts === undefined) {\n            const current_liked_posts = posts.postitems.filter(post => post.logged_in_user_liked);\n            setLikedPosts(current_liked_posts);\n        \n        }\n        \n    const updateLikedPosts = (post_id) => {\n\n        const new_liked_posts = liked_posts.filter(post => post.id !== parseInt(post_id));\n        setLikedPosts(new_liked_posts);\n    }\n    const PostPageHandler = (e) => {\n        const newFeedState = \"POST_ALL\";\n        props.dispatch(UpdatePostPageFunction(newFeedState));\n        \n    }\n\n    if(liked_posts === undefined ){\n        return (\n            <div>Loading ...</div>\n                ) \n        } else if (liked_posts.length === 0) {\n            return(\n                <div className=\"posts_like_feed\">\n                <div className=\"post_like_container\">\n                <div className=\"friend_empty\">\n                    <p>You haven't liked any posts yet..</p>\n                    <p>Want to find some more content?</p>\n                    <button id=\"go_like_stuff\" onClick={(e)=>PostPageHandler(e)}>Find Posts</button>\n                </div>\n                </div>\n            </div>\n            )\n        }\n        \n        else {\n            return (\n                <div className=\"posts_like_feed\">\n                    <div className=\"post_like_container\">\n                    {liked_posts.map(post => \n                        <div className=\"post_container\" id={post.id} key={post.id} >\n                            <div className=\"post_header\">\n                                {post.user.avatar ? <img src={post.user.avatar} alt={post.user.avatar}/> :<img src={require('../../assets/images/blank_avatar.png')} alt={\"avatar\"}/>}    \n                                <div className=\"post_name\"> \n                                    {post.user.first_name} {post.user.last_name}\n                                    <TimeAgo date={post.created} formatter={formatter} />\n                                </div>\n                            </div>\n                            <div className=\"post_content\" onClick={(e) => props.fullPostHandler(e,post)}>\n                                {post.content}\n                                </div>\n\n                                <div className=\"post_images\" onClick={(e) => props.fullPostHandler(e,post)}>\n                                    {post.images[0] ?  <img src={post.images[0].image} alt={post.images[0].image}/> : <div></div> } \n                                    {post.images[1] ?  <img src={post.images[1].image} alt={post.images[1].image}/> : <div></div> } \n                                    {post.images[2] ?  <img src={post.images[2].image} alt={post.images[2].image}/> : <div></div> } \n                                    {post.images[3] ?  <img src={post.images[3].image} alt={post.images[3].image}/> : <div></div> }             \n                            </div>\n                            <div className=\"post_footer\">\n                                <FeedLikeButton \n                                props={props}\n                                post={post}\n                                updateLikedPosts={updateLikedPosts}\n                                />\n                            </div>\n                        </div>)}\n                </div>\n                </div>\n            )}   \n    }\n\n\nconst mapStateToProps = state => {\n    return {\n        ...state,\n      };\n    };   \n\nexport default connect(mapStateToProps)(FeedFeedLike);       \n\n"]},"metadata":{},"sourceType":"module"}