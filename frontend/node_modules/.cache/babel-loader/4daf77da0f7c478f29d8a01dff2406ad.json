{"ast":null,"code":"import { login } from \"../../types\";\nexport const signInAction = token => ({\n  type: login,\n  payload: token\n});\nconst URL = `https://motion.propulsion-home.ch/backend/api/auth/token/`;\nexport const signInFunction = data => dispatch => {\n  const headers = new Headers({\n    'Content-Type': 'application/json'\n  });\n  const config = {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers\n  };\n  fetch(URL, config).then(res => res.json()).then(data => {\n    const {\n      access\n    } = data;\n    dispatch(signInAction(access));\n    localStorage.setItem('token', access);\n  });\n};","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/store/actions/signInAction/index.js"],"names":["login","signInAction","token","type","payload","URL","signInFunction","data","dispatch","headers","Headers","config","method","body","JSON","stringify","fetch","then","res","json","access","localStorage","setItem"],"mappings":"AAAA,SAAQA,KAAR,QAAoB,aAApB;AAEA,OAAO,MAAMC,YAAY,GAAIC,KAAD,KACxB;AACAC,EAAAA,IAAI,EAAEH,KADN;AAEAI,EAAAA,OAAO,EAAEF;AAFT,CADwB,CAArB;AAMP,MAAMG,GAAG,GAAI,2DAAb;AAEA,OAAO,MAAMC,cAAc,GAAIC,IAAD,IAAWC,QAAD,IAAc;AAClD,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY;AACxB,oBAAgB;AADQ,GAAZ,CAAhB;AAIA,QAAMC,MAAM,GAAG;AACXC,IAAAA,MAAM,EAAE,MADG;AAEXC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAFK;AAGXE,IAAAA;AAHW,GAAf;AAMIO,EAAAA,KAAK,CAACX,GAAD,EAAMM,MAAN,CAAL,CACCM,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMV,IAAI,IAAI;AACV,UAAM;AAACa,MAAAA;AAAD,QAAWb,IAAjB;AACAC,IAAAA,QAAQ,CAACP,YAAY,CAACmB,MAAD,CAAb,CAAR;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,MAA9B;AACH,GAND;AAOP,CAlBM","sourcesContent":["import {login} from \"../../types\";\n\nexport const signInAction = (token) => (\n    {\n    type: login,\n    payload: token,\n});\n\nconst URL = `https://motion.propulsion-home.ch/backend/api/auth/token/`;\n\nexport const signInFunction = (data) => (dispatch) => {\n    const headers = new Headers({\n        'Content-Type': 'application/json'\n    });\n\n    const config = {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers\n    };\n\n        fetch(URL, config)\n        .then(res => res.json())\n        .then(data => {\n            const {access} = data;\n            dispatch(signInAction(access));\n            localStorage.setItem('token', access);\n        });\n};"]},"metadata":{},"sourceType":"module"}