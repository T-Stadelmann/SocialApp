{"ast":null,"code":"import { verify, verifyerror } from \"../../types\";\nimport React from \"react\";\nimport Redirect from \"react-router-dom/es/Redirect\";\nexport const verifyAction = () => ({\n  type: verify\n});\nexport const verifyError = () => ({\n  type: verifyerror\n});\nconst URL = `https://tracey.propulsion-learn.ch/backend/api/auth/registration/validation/`;\nexport const verifyFunction = (data, props) => dispatch => {\n  console.log(props);\n  const config = {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  fetch(URL, config).then(function (response) {\n    if (response.status === 200) {\n      dispatch(verifyAction()); //  props.history.push('/signin')\n    } else {\n      dispatch(verifyError());\n      response.json().then(function (object) {\n        const errorArray = Object.values(object);\n        let errorStr = '';\n\n        for (let i = 0; i < errorArray.length; i++) {\n          errorStr = errorStr + \"\\r\\n \" + errorArray[i];\n        }\n\n        ;\n        alert(\"Error: \" + errorStr);\n      });\n    }\n  });\n};","map":{"version":3,"sources":["/home/tracey/Desktop/BootCamp/Week7/Day4/day4/frontend/src/store/actions/verifyAction/index.js"],"names":["verify","verifyerror","React","Redirect","verifyAction","type","verifyError","URL","verifyFunction","data","props","dispatch","console","log","config","method","body","JSON","stringify","headers","fetch","then","response","status","json","object","errorArray","Object","values","errorStr","i","length","alert"],"mappings":"AAAA,SAAQA,MAAR,EAAeC,WAAf,QAAiC,aAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAO;AAC/BC,EAAAA,IAAI,EAAEL;AADyB,CAAP,CAArB;AAIP,OAAO,MAAMM,WAAW,GAAG,OAAO;AAC9BD,EAAAA,IAAI,EAAEJ;AADwB,CAAP,CAApB;AAIP,MAAMM,GAAG,GAAI,8EAAb;AAEA,OAAO,MAAMC,cAAc,GAAG,CAACC,IAAD,EAAMC,KAAN,KAAiBC,QAAD,IAAc;AACxDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,QAAMI,MAAM,GAAG;AACXC,IAAAA,MAAM,EAAE,MADG;AAEXC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAFK;AAGXU,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AAHE,GAAf;AAMAC,EAAAA,KAAK,CAACb,GAAD,EAAMO,MAAN,CAAL,CACKO,IADL,CACU,UAASC,QAAT,EAAmB;AACrB,QAAIA,QAAQ,CAACC,MAAT,KAAkB,GAAtB,EAA2B;AACvBZ,MAAAA,QAAQ,CAACP,YAAY,EAAb,CAAR,CADuB,CAEzB;AAED,KAJD,MAKK;AACDO,MAAAA,QAAQ,CAACL,WAAW,EAAZ,CAAR;AACAgB,MAAAA,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,UAASI,MAAT,EAAiB;AACtC,cAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAcH,MAAd,CAAnB;AACA,YAAII,QAAQ,GAAG,EAAf;;AACA,aAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAEJ,UAAU,CAACK,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrCD,UAAAA,QAAQ,GAAGA,QAAQ,GAAG,OAAX,GAAqBH,UAAU,CAACI,CAAD,CAA1C;AACH;;AAAA;AACDE,QAAAA,KAAK,CAAC,YAAWH,QAAZ,CAAL;AAEH,OARG;AASH;AACI,GAnBb;AAoBC,CA5BE","sourcesContent":["import {verify,verifyerror} from \"../../types\";\nimport React from \"react\";\nimport Redirect from \"react-router-dom/es/Redirect\";\n\nexport const verifyAction = () => ({\n    type: verify,\n});\n\nexport const verifyError = () => ({\n    type: verifyerror\n})\n\nconst URL = `https://tracey.propulsion-learn.ch/backend/api/auth/registration/validation/`;\n \nexport const verifyFunction = (data,props) => (dispatch) => {\n    console.log(props);\n    const config = {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: {'Content-Type': 'application/json'}\n    };\n\n    fetch(URL, config)\n        .then(function(response) {\n            if (response.status===200) {\n                dispatch(verifyAction());\n              //  props.history.push('/signin')\n\n            } \n            else {\n                dispatch(verifyError());\n                response.json().then(function(object) {\n                const errorArray = Object.values(object);\n                let errorStr = '';   \n                for (let i=0; i <errorArray.length; i++) {\n                    errorStr = errorStr + \"\\r\\n \" + errorArray[i]; \n                };\n                alert(\"Error: \"+ errorStr)\n            \n            })\n            }\n                })\n    }"]},"metadata":{},"sourceType":"module"}